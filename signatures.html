<html>
    <head></head>
<body>
<script>

 const tx = `\
{\
  "ref_block_num": 4935,\
  "ref_block_prefix": 1192429318,\
  "expiration": "2025-11-24T06:57:55",\
  "operations": [\
    ["transfer", {\
      "from": yasu.pal,\
      "to": yau.pal,\
      "amount": "0.000 STEEM",\
      "memo": test\
    }]\
  ],\
  "extensions": []\
}\
`;

if(window.steem_keychain){
  // JSONの内容をコピー

steem_keychain.requestBroadcast(
  "yasu.pal",
  JSON.parse(tx),
  "active",
  function(res){
    console.log(res);
  }
);

}
</script>
<!---->
<textarea id="myText" rows="5" cols="40" placeholder="複数行テキストを入力してください">
</textarea>
<br>
<button onclick="setText()">設定</button>
<button onclick="showText()">表示</button>

<script>
function showText() {
    const text = document.getElementById("myText").value;
    alert(text);
}
function setText() {
    document.getElementById("myText").value = tx;
}
function signatureText() {
  if (!window.steem_keychain) {
    resultEl.textContent = "❌ Steem Keychain がインストールされていません。";
    return;
  }

  tx = document.getElementById("myText").value

  // ② Keychain で署名を作成
  steem_keychain.requestSignBuffer("yasu.pal", ex, "Active", async (res) => {
  if (!res.success) {
    resultEl.textContent = "署名に失敗しました。";
    return;
  }

  const signature = res.result;
  const publicKey = res.publicKey;

  console.info(res);
  console.info(res.success);
  console.info(signature);
  console.info(publicKey);
}
</script>
<!---->
</body>
</html>